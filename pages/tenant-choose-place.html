<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../assets/css/tenant-choos-place.css">
    <title>Document</title>
</head>
<header>
    <div class="logo">
        <img id="logo" src="../assets/images/lgo.png" alt="logo">
    </div>
    <!-- Navigation link -->
    <nav id="nav">

        <input id="search" type="search" placeholder=" Use leaser name to search here">
        <button type="submit"><i class="fa fa-search"></i></button>
        <a href="../index.html">Log out</a>
    </nav>
</header>

<body>
    <main>
        <div class="main">
            <div class="profile_box">
                <img id="imag" src="../assets/images/hme.png" alt="profile_image">
                <div class="detail">
                    <p>Suresh</p>
                    <p>Raniyammal nagar, taramani</p>
                    <p>9876543210</p>
                </div>
            </div>
            <div class="profile_box">
                <img id="imag" src="../assets/images/parpl.png" alt="profile_image">
                <div class="detail">
                    <p>Dharun</p>
                    <p>Anna thedal salai, taramani</p>
                    <p>9876543211</p>
                </div>
            </div>
            <div class="profile_box">
                <img id="imag" src="../assets/images/hme.png" alt="profile_image">
                <div class="detail">
                    <p>Deva</p>
                    <p>MG nagar, Taramani</p>
                    <p>9876543110</p>
                </div>
            </div>
        </div>
    </main>
    <script>
        let div_list;
        let div_profile_box;
        let div_image;
        let imag;
        let div_detail;
        let parag;
        let parag1;

        let lease = JSON.parse(localStorage.getItem("leaser"))
        console.log(lease);

            div_list = document.createElement("div")
            div_list.setAttribute("class", "main_list")
            console.log(div_list)

            for (let i = 0; i <lease.length; i++) {

                div_profile_box = document.createElement("div");
                div_profile_box.setAttribute("class", "profile_box");
                div_list.append(div_profile_box);

                div_image = document.createElement("div");
                div_image.setAttribute("class", "image");
                div_profile_box.append(div_image);

                // imag = document.createElement("img");
                // imag.setAttribute("src", user["image"]["source"]);
                // imag.setAttribute("alt", user["image"]["alt"]);
                // imag.setAttribute("id", "imag");
                // div_image.append(imag);

                div_detail = document.createElement("div");
                div_detail.setAttribute("class", "detail");
                div_profile_box.append(div_detail);

                parag = document.createElement("p");
                parag.setAttribute("id", "nam")
                parag.innerText = lease[i]["firstname"];
                div_detail.append(parag);

                parag1 = document.createElement("p");
                parag1.setAttribute("id", "addr")
                parag1.innerText = lease[i]["address"];
                div_detail.append(parag1);
                
                phon_num = document.createElement("p");
                phon_num.setAttribute("id", "phon")
                phon_num.innerText = lease[i]["phone_number"];
                div_detail.append(phon_num);

                document.querySelector("main").prepend(div_list);
            }

            // search engine

            let search=document.getElementById("search");
        search.addEventListener("keyup",(e)=>{
            // console.log(e.target.value.toLowerCase())
            let search_value=e.target.value.toLowerCase();
            let places=document.querySelectorAll(".profile_box");

            // console.log(course[1])
            places.forEach(element => {
                // console.log(element)
                let details=element.children[1].textContent.toLowerCase();
                // console.log(element.children[1].textContent)
                if(details.includes(search_value)){
                    // console.log("matched");
                    element.style.display="block";
                }
                else{
                    // console.log("none")
                    element.style.display="none";
                }
                
            });


        })
        
    </script>
</body>

</html>